msgid ""
msgstr ""
"Project-Id-Version: The Embedded Rust Book\n"
"POT-Creation-Date: 2025-12-02T17:24:38Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_TW\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/static-guarantees/design-contracts.md:1
msgid "Design Contracts"
msgstr ""

#: src/static-guarantees/design-contracts.md:3
msgid ""
"In our last chapter, we wrote an interface that _didn't_ enforce design "
"contracts. Let's take another look at our imaginary GPIO configuration "
"register:"
msgstr ""

#: src/static-guarantees/design-contracts.md:5
msgid "Name"
msgstr ""

#: src/static-guarantees/design-contracts.md:5
msgid "Bit Number(s)"
msgstr ""

#: src/static-guarantees/design-contracts.md:5
msgid "Value"
msgstr ""

#: src/static-guarantees/design-contracts.md:5
msgid "Meaning"
msgstr ""

#: src/static-guarantees/design-contracts.md:5
msgid "Notes"
msgstr ""

#: src/static-guarantees/design-contracts.md:7
msgid "enable"
msgstr ""

#: src/static-guarantees/design-contracts.md:7
#: src/static-guarantees/design-contracts.md:9
#: src/static-guarantees/design-contracts.md:15
msgid "0"
msgstr ""

#: src/static-guarantees/design-contracts.md:7
msgid "disabled"
msgstr ""

#: src/static-guarantees/design-contracts.md:7
msgid "Disables the GPIO"
msgstr ""

#: src/static-guarantees/design-contracts.md:8
#: src/static-guarantees/design-contracts.md:9
#: src/static-guarantees/design-contracts.md:10
#: src/static-guarantees/design-contracts.md:16
msgid "1"
msgstr ""

#: src/static-guarantees/design-contracts.md:8
msgid "enabled"
msgstr ""

#: src/static-guarantees/design-contracts.md:8
msgid "Enables the GPIO"
msgstr ""

#: src/static-guarantees/design-contracts.md:9
msgid "direction"
msgstr ""

#: src/static-guarantees/design-contracts.md:9
msgid "input"
msgstr ""

#: src/static-guarantees/design-contracts.md:9
msgid "Sets the direction to Input"
msgstr ""

#: src/static-guarantees/design-contracts.md:10
msgid "output"
msgstr ""

#: src/static-guarantees/design-contracts.md:10
msgid "Sets the direction to Output"
msgstr ""

#: src/static-guarantees/design-contracts.md:11
msgid "input_mode"
msgstr ""

#: src/static-guarantees/design-contracts.md:11
msgid "2..3"
msgstr ""

#: src/static-guarantees/design-contracts.md:11
msgid "00"
msgstr ""

#: src/static-guarantees/design-contracts.md:11
msgid "hi-z"
msgstr ""

#: src/static-guarantees/design-contracts.md:11
msgid "Sets the input as high resistance"
msgstr ""

#: src/static-guarantees/design-contracts.md:12
msgid "01"
msgstr ""

#: src/static-guarantees/design-contracts.md:12
msgid "pull-low"
msgstr ""

#: src/static-guarantees/design-contracts.md:12
msgid "Input pin is pulled low"
msgstr ""

#: src/static-guarantees/design-contracts.md:13
msgid "10"
msgstr ""

#: src/static-guarantees/design-contracts.md:13
msgid "pull-high"
msgstr ""

#: src/static-guarantees/design-contracts.md:13
msgid "Input pin is pulled high"
msgstr ""

#: src/static-guarantees/design-contracts.md:14
msgid "11"
msgstr ""

#: src/static-guarantees/design-contracts.md:14
msgid "n/a"
msgstr ""

#: src/static-guarantees/design-contracts.md:14
msgid "Invalid state. Do not set"
msgstr ""

#: src/static-guarantees/design-contracts.md:15
msgid "output_mode"
msgstr ""

#: src/static-guarantees/design-contracts.md:15
msgid "4"
msgstr ""

#: src/static-guarantees/design-contracts.md:15
msgid "set-low"
msgstr ""

#: src/static-guarantees/design-contracts.md:15
msgid "Output pin is driven low"
msgstr ""

#: src/static-guarantees/design-contracts.md:16
msgid "set-high"
msgstr ""

#: src/static-guarantees/design-contracts.md:16
msgid "Output pin is driven high"
msgstr ""

#: src/static-guarantees/design-contracts.md:17
msgid "input_status"
msgstr ""

#: src/static-guarantees/design-contracts.md:17
msgid "5"
msgstr ""

#: src/static-guarantees/design-contracts.md:17
msgid "x"
msgstr ""

#: src/static-guarantees/design-contracts.md:17
msgid "in-val"
msgstr ""

#: src/static-guarantees/design-contracts.md:17
msgid "0 if input is \\< 1.5v, 1 if input >= 1.5v"
msgstr ""

#: src/static-guarantees/design-contracts.md:19
msgid ""
"If we instead checked the state before making use of the underlying "
"hardware, enforcing our design contracts at runtime, we might write code "
"that looks like this instead:"
msgstr ""

#: src/static-guarantees/design-contracts.md:22
#: src/static-guarantees/design-contracts.md:107
msgid "/// GPIO interface\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:24
#: src/static-guarantees/design-contracts.md:109
msgid "/// GPIO Configuration structure generated by svd2rust\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:37
msgid "// Must be enabled to set direction\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:50
msgid "// Must be enabled to set input mode\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:55
#: src/static-guarantees/design-contracts.md:91
msgid "// Direction must be input\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:68
msgid "// Must be enabled to set output status\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:73
msgid "// Direction must be output\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:86
msgid "// Must be enabled to get status\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:100
msgid ""
"Because we need to enforce the restrictions on the hardware, we end up doing "
"a lot of runtime checking which wastes time and resources, and this code "
"will be much less pleasant for the developer to use."
msgstr ""

#: src/static-guarantees/design-contracts.md:102
msgid "Type States"
msgstr ""

#: src/static-guarantees/design-contracts.md:104
msgid ""
"But what if instead, we used Rust's type system to enforce the state "
"transition rules? Take this example:"
msgstr ""

#: src/static-guarantees/design-contracts.md:115
msgid "// Type states for MODE in GpioConfig\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:125
msgid "/// These functions may be used on any GPIO Pin\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:166
msgid "/// This function may be used on an Output Pin\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:173
msgid "/// These methods may be used on any enabled input GPIO\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:212
msgid "Now let's see what the code using this would look like:"
msgstr ""

#: src/static-guarantees/design-contracts.md:215
msgid ""
"/*\n"
" * Example 1: Unconfigured to High-Z input\n"
" */"
msgstr ""

#: src/static-guarantees/design-contracts.md:219
msgid ""
"// Can't do this, pin isn't enabled!\n"
"// pin.into_input_pull_down();\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:222
msgid "// Now turn the pin from unconfigured to a high-z input\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:225
msgid "// Read from the pin\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:228
msgid ""
"// Can't do this, input pins don't have this interface!\n"
"// input_pin.set_bit(true);\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:231
msgid ""
"/*\n"
" * Example 2: High-Z input to Pulled Low input\n"
" */"
msgstr ""

#: src/static-guarantees/design-contracts.md:237
msgid ""
"/*\n"
" * Example 3: Pulled Low input to Output, set high\n"
" */"
msgstr ""

#: src/static-guarantees/design-contracts.md:243
msgid ""
"// Can't do this, output pins don't have this interface!\n"
"// output_pin.into_input_pull_down();\n"
msgstr ""

#: src/static-guarantees/design-contracts.md:248
msgid ""
"This is definitely a convenient way to store the state of the pin, but why "
"do it this way? Why is this better than storing the state as an `enum` "
"inside of our `GpioConfig` structure?"
msgstr ""

#: src/static-guarantees/design-contracts.md:250
msgid "Compile Time Functional Safety"
msgstr ""

#: src/static-guarantees/design-contracts.md:252
msgid ""
"Because we are enforcing our design constraints entirely at compile time, "
"this incurs no runtime cost. It is impossible to set an output mode when you "
"have a pin in an input mode. Instead, you must walk through the states by "
"converting it to an output pin, and then setting the output mode. Because of "
"this, there is no runtime penalty due to checking the current state before "
"executing a function."
msgstr ""

#: src/static-guarantees/design-contracts.md:254
msgid ""
"Also, because these states are enforced by the type system, there is no "
"longer room for errors by consumers of this interface. If they try to "
"perform an illegal state transition, the code will not compile!"
msgstr ""
